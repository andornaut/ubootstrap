install openjdk-7-jdk ant python python-dev python-pip python-virtualenv virtualenvwrapper pydb \
	mercurial git python-sphinx python-nose2 node-less fabric postgresql \
	meld libxml2-dev libxslt-dev mysql-client libmysqlclient-dev xserver-xephyr \
	ruby virtualbox

add_repo "http://downloads.hipchat.com/linux/apt"
update
install hipchat

package="vagrant"
if should_install "${package}"; then
	echo
	if ask "Install ${package}?" Y; then
		install_dpkg_wget "${package}" "https://releases.hashicorp.com/vagrant/1.7.4/vagrant_1.7.4_i686.deb"
		install vagrant-lxc
	else
		skip "${package}"
	fi
fi

install_jetbrains() {
	local package=$1
	local url_prefix=$2
	local professional=$3
	local community=$4
	local version=$5

	if should_install "${package}" ; then
		echo
		if ask "Install ${package}?" Y; then
			if ask "Install ${package} 'professional' instead of 'community' edition" Y; then
				edition="${professional}"
			else
				edition="${community}"
			fi

			dst="${base}/${package}"
			dst_bin="/opt/${package}-${edition}-${version}"
			
			dst_sh="${bin}/${package}"
			download_wget "${package}" "${url_prefix}${edition}-${version}.tar.gz" \
				&& remove_if_exists "${dst_bin}" \
				&& sudo mkdir "${dst_bin}" \
				&& sudo tar -xzf "${dst}" -C "${dst_bin}" --strip-components=1 \
				&& remove_if_exists "${dst_sh}" \
				&& sudo ln -s "${dst_bin}/bin/${package}.sh" "${dst_sh}" \
				&& success "${package}" \
				|| failure "${package}"
		else
			skip "${package}"
		fi
	fi
}


install_jetbrains pycharm 'http://download.jetbrains.com/python/pycharm-' professional community 5.0
install_jetbrains idea 'http://download.jetbrains.com/idea/ideaI' U C 15.0 
